---
title: "Inline"
categories:
  - C++
classes : wide
tags:
---
   
<br>
<h1>
Inline 함수란
</h1>
<br>
  
- 함수를 호출 할 경우 간략하게 진행과정은 다음과 같다.
  - 스택 메모리에 함수에 사용될 메모리 영역을 할당 (함수 내 변수들을 메모리에 Push)
  - 함수 주소로 점프
  - 함수를 실행
  - 호출자 함수로 다시 점프
  - 함수가 종료되면 할당된 Push했던 변수 메모리들을 POP 한다. 

생각보다는 함수하나를 실행하는데 거치는 과정이 많은데 그래서 "모든 걸 함수로 만들어라 ! "라는 조언은 
경계 할 필요가 있다고 한다. 하지만 함수는 가독성을 높여주는 일등공신이기에 오버헤드 부담을 줄일 방법이 없을까 ?
그래서 나온 것이 Inline 함수이다.

<br>
<h1>
Inline 함수의 작동원리
</h1>
<br>

- 사실상 함수내부의 구현체를 호출된 지점에 복붙해주는 것과 비슷하다고 한다.
  - 매크로와 매우 비슷한 개념이다.
  - 그럼 매크로로 대체 할 수 있나??
    - 가능은 하지만 매크로는 디버그 시 콜스택에 함수이름이 안보인다.
    - 중단점 설정도 불가능 하다.
    - 따라서 매크로를 사용 할 이유가 분명하지 않다면 Inline 함수 사용이 바람직하다.
  
- 그럼 모든 함수를 Inline함수로 바꾸면 되나??

<br>

Inline함수는 컴파일러에게 Hint를 제공하는 키워드일 뿐이다. 실제로는 Inline 되지 않을 가능성이 있다. 또 간단한 함수는 컴파일러가 자체적으로 Inline화 하기도 한다. 따라서 Inline 함수는 컴파일러에게 Inline화를 요청한다고 생각하면 좋다. 

<br>

<br>
<h1>
Inline 함수 사용법
</h1>
<br>

- 함수 구현은 헤더파일에 있어야 한다.

<br>

같은 유닛안에 있다면 상관은 없지만 대체적으로 헤더에 위치하는 것이 바람직하다. 헤더파일에 있어야 하는 이유는 컴파일러가 해당 구현체를 볼 수 있어야하기 때문이다. 컴파일러가 a.cpp를 읽고 있다면  b.cpp에는 뭐가 들어있는지 모르기 때문이다.

- 출처 : Pocu 아카데미 강의